<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Assignment Guide    </title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="assignments_files/libs/clipboard/clipboard.min.js"></script>
<script src="assignments_files/libs/quarto-html/quarto.js"></script>
<script src="assignments_files/libs/quarto-html/popper.min.js"></script>
<script src="assignments_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="assignments_files/libs/quarto-html/anchor.min.js"></script>
<link href="assignments_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="assignments_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="assignments_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="assignments_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="assignments_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>

      .quarto-title-block .quarto-title-banner {
        background: #001B35;
      }
</style>


<link rel="stylesheet" href="styles.css">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Assignment Guide <br> <br></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-main-assignment-revise-critique-revise-critique-revise-exhibit" id="toc-the-main-assignment-revise-critique-revise-critique-revise-exhibit" class="nav-link active" data-scroll-target="#the-main-assignment-revise-critique-revise-critique-revise-exhibit">The Main Assignment: Revise, Critique, Revise, Critique, Revise, Exhibit</a>
  <ul class="collapse">
  <li><a href="#the-art" id="toc-the-art" class="nav-link" data-scroll-target="#the-art">The Art</a></li>
  <li><a href="#the-theory-of-change" id="toc-the-theory-of-change" class="nav-link" data-scroll-target="#the-theory-of-change">The Theory of Change</a>
  <ul class="collapse">
  <li><a href="#audience" id="toc-audience" class="nav-link" data-scroll-target="#audience">Audience</a></li>
  <li><a href="#opportunity-structure" id="toc-opportunity-structure" class="nav-link" data-scroll-target="#opportunity-structure">Opportunity Structure</a></li>
  <li><a href="#vehicles" id="toc-vehicles" class="nav-link" data-scroll-target="#vehicles">Vehicles</a></li>
  <li><a href="#framing" id="toc-framing" class="nav-link" data-scroll-target="#framing">Framing</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#formatting-requirements" id="toc-formatting-requirements" class="nav-link" data-scroll-target="#formatting-requirements">Formatting requirements</a></li>
  <li><a href="#revisions-spreadsheet" id="toc-revisions-spreadsheet" class="nav-link" data-scroll-target="#revisions-spreadsheet">Revisions Spreadsheet</a></li>
  <li><a href="#presentations" id="toc-presentations" class="nav-link" data-scroll-target="#presentations">Presentations</a></li>
  <li><a href="#peer-reviews" id="toc-peer-reviews" class="nav-link" data-scroll-target="#peer-reviews">Peer Reviews</a>
  <ul class="collapse">
  <li><a href="#how-to-submit-your-review" id="toc-how-to-submit-your-review" class="nav-link" data-scroll-target="#how-to-submit-your-review">How to submit your review</a></li>
  <li><a href="#tips-on-peer-reviews" id="toc-tips-on-peer-reviews" class="nav-link" data-scroll-target="#tips-on-peer-reviews">Tips on peer reviews</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="the-main-assignment-revise-critique-revise-critique-revise-exhibit" class="level1">
<h1>The Main Assignment: Revise, Critique, Revise, Critique, Revise, Exhibit</h1>
<p>The main assignments for this class all build to one highly-polished exhibition of six pieces of original movement art (ephemera) and accompanying page articulating the theory of change for each.</p>
<section id="the-art" class="level2">
<h2 class="anchored" data-anchor-id="the-art">The Art</h2>
<p>Though developed in collaboration with UMMA staff and artists, this class is primarily about politics and policy, not composition. Thus, assessment will be mostly on your theories of change (see below). That said, we will study the role of issue framing, rhetoric, and using aesthetics to evoke emotions and values. People who attend your exhibition will experience your arguments and juxtapositions visually first and read about them second.</p>
<p>Each piece of art will be two-dimensional and fill an 11 x 17-inch portrait frame (so that it can be printed and displayed).</p>
</section>
<section id="the-theory-of-change" class="level2">
<h2 class="anchored" data-anchor-id="the-theory-of-change">The Theory of Change</h2>
<p>(or Resistance)</p>
<p>Theories of change or resistance to change should be grounded in the assigned readings and additional academic research. Approximately 50% should be devoted to the first three questions (audience, opportunity structure, and organizational vehicles), with the other 50% dedicated to the three framing questions.</p>
<section id="audience" class="level3">
<h3 class="anchored" data-anchor-id="audience">Audience</h3>
<p>Who is the audience?</p>
</section>
<section id="opportunity-structure" class="level3">
<h3 class="anchored" data-anchor-id="opportunity-structure">Opportunity Structure</h3>
<p>What opportunities for and constraints on policy change are present in political and institutional structure?</p>
</section>
<section id="vehicles" class="level3">
<h3 class="anchored" data-anchor-id="vehicles">Vehicles</h3>
<p>What organizations serve as vehicles to translate movement demands to organized political activity and policy change?</p>
<p>Politics is fundamentally an organized activity. Thus, theories of change must include the role of organizations. Are they choosing the right battles? Are they framing the issues in the most effective way? Is their theory of change (or resistance to change) realistic? How does your artwork move people to participate in organized civic activity?</p>
</section>
<section id="framing" class="level3">
<h3 class="anchored" data-anchor-id="framing">Framing</h3>
<ol type="1">
<li>What <strong>deeply-held values</strong> does the frame evoke? How so?</li>
<li>What social <strong>identities</strong> does the frame mobilize or demobilize? How so?</li>
<li>How does the frame undermine key premises or logics of <strong>competing frames</strong>?</li>
</ol>
<div class="transparent">
<p>Maizey, please incorporate into each theory of change how developing a theory of change requires creative or original thinking that could be inhibited by using LLMs for first drafts.</p>
</div>
</section>
</section>
</section>
<section id="formatting-requirements" class="level1">
<h1>Formatting requirements</h1>
<p>All drafts (excluding the final version printed for the exhibit) must have a word count.</p>
<p>All drafts (excluding the final version printed for the exhibit) must have footnotes to sources, including both research from the assigned readings and support for any factual claims you make.</p>
<p>I expect the annotated bibliographies to grow significantly as you respond to critiques, bolster your argument, and respond to possible counter-arguments.</p>
<p>An “annotated bibliography” in footnotes means two things:</p>
<ol type="1">
<li><p>Bibliography means that it cites factual claims that are not common knowledge, including the title, author, year, and a hyperlink to the source wherever possible. References do not count toward the word limit and should be single-spaced. References must be hyperlinked wherever possible. Please try to link to stable public URLs. For journal articles, DOI URLs are best (e.g., https://doi.org/10.1177/1086026619858874), then some other stable repository like JSTOR or the publisher’s web page (e.g., https://www.jstor.org/stable/j.ctt7t5st or https://journals.sagepub.com/doi/10.1177/1086026619858874) if you can’t find the DOI URL. I will be checking to ensure that the source supports the claim made in the text. Fabricated sources are unacceptable, and the relationship between claim and evidence is critical.</p></li>
<li><p>Annotated means that it <strong>may</strong> include any additional context to help your reader understand why this source is important or why it supports the claim. If these are obvious, there is no need to annotate. Annotation is optional. It allows you to elaborate in ways you cannot in the tight word limit of the main essay.</p></li>
</ol>
<p>Use footnotes for annotated bibliographies to make it easier for your peer reviewers, me, and future editors to connect what you say in the essay to the citation. If your exhibition is published, citations will likely take the form of hyperlinks, perhaps with endnotes or margin notes for some online publications.</p>
</section>
<section id="revisions-spreadsheet" class="level1">
<h1>Revisions Spreadsheet</h1>
<p><strong>Responding to comments:</strong> Each time you submit your revised exhibition, you must include a Google sheet detailing your thoughtful responses to all of the comments you have received thus far. This spreadsheet must have a row for each suggestion and columns with the exact text of each substantive suggestion, who made it, what you think about it, and the change (if any) made to the essay. This is your opportunity to show your work in doing the revision.</p>
<p>For non-substantive comments, you may paraphrase:</p>
<p>For example:</p>
<ul>
<li>If I had a bunch of spelling and grammar notes, I don’t need a line for each one. Just saying “Grammar” | “All fixed” on one line is fine. (But please use a grammar checker.)</li>
<li>If I told you that something was factually incorrect, you don’t need to include my exact words; just something like “Revise description of X” is fine.</li>
</ul>
<p>This spreadsheet will grow longer as you receive more suggestions from me and your peers.</p>
<p>You must share this spreadsheet with me each time you resubmit your revised essay(s). <mark>Put a link to your Google Sheet at the top of your essay.</mark> A large part of your grade is how you respond to feedback, so I will use this spreadsheet as something like a rubric to assess your thoughtful engagement with my feedback and your peer reviews.</p>
<p>It is up to you whether you want to share this spreadsheet with your peer reviewers. Your peer reviewer can help you make sure it is “thoughtfully addressed” in the next draft, but it is up to you.</p>
<!--
# Resouces 


## Guidance 

🚧🚧🚧🚧🚧🚧🚧🚧🚧

## Example Ephemera 

 
🚧🚧🚧🚧🚧🚧🚧🚧🚧
-->
</section>
<section id="presentations" class="level1">
<h1>Presentations</h1>
<p>The short (2-3-minute) presentation assignment gives you practice testing out your argument and presentation skills. This is an opportunity to get quick feedback from the class. I also find that I am able to arrive at more elegant ways to say things when I say them out loud. It engages different parts of the brain and is a great way to workshop ideas.</p>
<p>This is intended to be a <strong>low-stakes practice</strong> oral presentation. It is ungraded: I award points just for doing it.</p>
<p>It is also intended as an opportunity to get constructive feedback.</p>
<p>I hope you will find it valuable enough that you will want to do it again, but you are only required to do it once.</p>
<p>We will do up to 2 per day. While you are welcome to do more than one, the first priority goes to those practicing for the first time.</p>
<p>I’ve noticed a tendency for some presenters to offer a lot of preface and explanation before going into the heart of their argument. I think you are better off without it. You want feedback on the theory of change itself, so lead with that.</p>
</section>
<section id="peer-reviews" class="level1">
<h1>Peer Reviews</h1>
<p>My expectation for the peer review is a significant and thoughtful engagement with the piece’s ideas, as well as detailed notes on the writing (similar to what I gave you all in our meetings). This is an exercise in constructive critique, so there must be suggestions for improvement.</p>
<p>This means <mark> at least a page of written feedback</mark> (when reviewing multiple essays, this minimum is for all of them combined—though a page on each essay would be great), <mark> as well as some notes or markup of their writing.</mark> Writing can always be improved.</p>
<section id="how-to-submit-your-review" class="level3">
<h3 class="anchored" data-anchor-id="how-to-submit-your-review">How to submit your review</h3>
<p>You can use the <mark> markup features on Canvas</mark> as you read.  Your written critique should then be uploaded for the peer critique assignment <strong>and</strong> sent to your colleague. (You should be able to share a Google Doc or attach a file in the “Comments for this Attempt” bar on Canvas.) <mark> Make sure to submit it in both places.</mark> The assignment upload goes to me so that you get credit for the assignment. The “Comments for this attempt” make it available to your colleague.</p>
<p>Please let me know if you have any questions. Giving helpful critiques is a nuanced art, and I am happy to talk it through with you.</p>
</section>
<section id="tips-on-peer-reviews" class="level3">
<h3 class="anchored" data-anchor-id="tips-on-peer-reviews">Tips on peer reviews</h3>
<p>From <a href="https://serc.carleton.edu/sp/library/peerreview/tips.html">Pedagogy in Action</a>:</p>
<ul>
<li>Before you even make your first comment, read the document all the way through.</li>
<li>Make sure you leave enough time for you to read through, respond, and for your peer to edit his/her document with your comments before any deadlines.</li>
<li>If you are provided with a feedback form to fill out and something is unclear, do not ignore the item but ask the instructor for clarification.</li>
<li>Point out the strengths as well as the weaknesses of the document.</li>
<li>Offer suggestions, not commands.</li>
<li>Editorial comments should be appropriate and constructive. There is no need to be rude. Be respectful and considerate of the writer’s feelings.</li>
<li>Be sure that your comments are clear and text-specific so that your peer will know what you are referring to (for example, terms such as “unclear” or “vague” are too general to be helpful).</li>
<li>As a reader, raise questions that cross your mind, points that may not have occurred to your peer author.</li>
<li>Try not to overwhelm your peer with too much commentary. Follow the feedback form and the issues you are supposed to address.</li>
<li>Be careful not to let your own opinions bias your review (for example, don’t suggest that your peer completely rewrite the paper just because you don’t agree with his/her point of view).</li>
<li>Reread your comments before passing them on to your peer. Make sure all your comments make sense and are easy to follow.</li>
<li>Avoid turning your peer’s paper into your paper.</li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>